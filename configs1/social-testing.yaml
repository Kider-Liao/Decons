repeats: [0, 1, 2, 3, 4]
duration: 30
services: 
# - UserTimeline
# - HomeTimeline
- ComposePost
interference_num: 1
enabled_microservice: ["compose-post-service", "text-service", "url-shorten-service", "home-timeline-service", "user-timeline-service"]
interference_config:
  cpu:
    cpu_size: 1
    mem_size: 10Mi
    pod_range: [[15, 10, 30], [10, 10, 30], [10, 10, 20]]
    # pod_range: [[17, 17, 17], [14, 14, 14], [19, 19, 19]]
  capacity:
    cpu_size: 0.01
    mem_size: 4Gi
    pod_range: [[5, 5, 5], [5, 5, 5], [5, 5, 5]]
  bandwidth:
    cpu_size: 1
    mem_size: 100Mi
    pod_range: [[15, 10, 40],[10, 10, 30], [10, 10, 20]]
    # pod_range: [[17, 17, 17], [14, 14, 14], [22, 22, 22]]
workload_config:
  wrk_path: wrk2/wrk
  services:
    UserTimeline:
      max_clients: 20
      thread_num: 2
      connection_num: 4
      throughput: 8
      script_path: wrk2/scripts/social-network/read-user-timeline.lua
      url: http://localhost:30928
    ComposePost:
      max_clients: 50
      step_size: 2
      start_clients: 10
      thread_num: 2
      connection_num: 4
      throughput: 8
      script_path: wrk2/scripts/social-network/compose-post.lua
      # 记得同时修改TestConfig的port
      url: http://localhost:30928
    HomeTimeline:
      max_clients: 20
      thread_num: 2
      connection_num: 4
      throughput: 8
      script_path: wrk2/scripts/social-network/read-home-timeline.lua
      url: http://localhost:30928
collector_config:
  jaeger_host: http://localhost:30994
  entry_point: nginx-web-server
  max_traces: 1000
  monitor_interval: 1